<!DOCTYPE html>
<html>
<head>
    <title>Shopping Web XR</title>
    <!-- <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.5.1/dat.gui.min.js" type="text/javascript"></script>
    <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script> -->
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
	<!-- <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script> -->

    <script src="js/aframe-gui.js"></script>
    <script src="js/gui-env.js"></script>

</head>
<body>
	
    <a-scene gui-env>

        <a-assets>
            <a-asset-item id="table-obj" src="assets/table/cafe_set_mota_table.obj"></a-asset-item>
            <a-asset-item id="table-mtl" src="assets/table/cafe_set_mota_table.mtl"></a-asset-item>

            <a-asset-item id="cake-obj" src="assets/cake/untitled.mtl.obj"></a-asset-item>
            <a-asset-item id="cake-mtl" src="assets/cake/untitled.mtl.mtl"></a-asset-item>

			<a-asset-item id="vanila-obj" src="assets/cake/vanila.obj"></a-asset-item>
            <a-asset-item id="vanila-mtl" src="assets/cake/vanila.mtl"></a-asset-item>

			<a-asset-item id="sb-obj" src="assets/cake/strawberry.obj"></a-asset-item>
            <a-asset-item id="sb-mtl" src="assets/cake/strawberry.mtl"></a-asset-item>

            <a-asset-item id="plate-obj" src="assets/plate/bread-plate.obj"></a-asset-item>
            <a-asset-item id="plate-mtl" src="assets/plate/bread-plate.mtl"></a-asset-item>

            <a-asset-item id="fnt1" src="assets/fonts/OpenSans-Regular.ttf"></a-asset-item>

            <a-asset-item id="iconfontsolid" src="assets/fonts/fa-solid-900.ttf"></a-asset-item>
			<a-asset-item id="textfont" src="assets/fonts/PermanentMarker-Regular.ttf"></a-asset-item>

			<a-asset-item id="sky" src="assets/sky/sky.jpg"></a-asset-item>

            <img id="wall" src="assets/wall/wall.jpg">
            <img id="wall2" src="assets/wall/wall2.jpg">
            <img id="wall3" src="assets/wall/wall3.jpg">      
            <img id="wall4" src="assets/wall/wall4.jpg">
            <img id="wall5" src="assets/wall/wall5.jpg">
        </a-assets>


    <a-entity rotation="0 0 0">
    <a-entity scale="0.2 0.2 0.2" position="-0.7 1.3 -1" animation="property: rotation; to: 0 360 0; loop: true; dur: 8000; easing: linear;">
            <a-obj-model src="#cake-obj" mtl="#cake-mtl" id="cake"></a-obj-model>
    </a-entity>

    <a-entity light="color: #ffffff; intensity: 1" position="-1.948 6.773 5.704"></a-entity>
    <a-entity light="color: #ffffff; intensity: 1" position="0.714 3.404 0.000"></a-entity>

    <a-entity position="0 0.7 0.7" rotation="-19 0 0">
        <a-camera></a-camera>
    </a-entity>

	<a-sky
	color="#c49f54"
	></a-sky>


    <a-entity position="-0.7 1.28 -1" scale="1.3 1.3 1.3">
        <a-obj-model src="#plate-obj" mtl="#plate-mtl"></a-obj-model>
		
    </a-entity>

	

    </a-entity>

    <!-- <a-plane material="src: #wall5; repeat: 1 1;" position="0 3.5 -2" rotation="0 0 0" scale="5 5 5"></a-plane>
    <a-plane material="src: #wall4; repeat: 3 3;" position="0 1 -2" rotation="-90 0 0" scale="5 5 5" color="#41311b"></a-plane>
    <a-plane material="src: #wall5; repeat: 1 1;" position="-2.5 3.5 -2" rotation="0 90 0" scale="5 5 5"></a-plane>
    <a-plane material="src: #wall5; repeat: 1 1;" position="2.5 3.5 -2" rotation="0 -90 0" scale="5 5 5"></a-plane> -->
    <a-entity camera look-controls position="0 1.61 0"></a-entity>



                <a-gui-flex-container
					flex-direction="row" justify-content="center" align-items="normal" component-padding="0.1" 
					opacity="0" width="0.7" height="0"
					position="0.800 2.174 -1.644" rotation="0 -22.070 0"
				>
					<a-gui-icon-label-button
						id="mydropdown"
						width="1.5" height="0.55"
						onclick="openDropdown"
						icon="f0c9"
					
						
						value="cake-size"
						font-family="assets/fonts/PermanentMarker-Regular.ttf"
						font-size="0.1"
						visible="ture"
						animation__rotateIn="property: rotation; to: 180 0 0; dur: 500; startEvents:opendropdown"
						animation__visibleIn="property: visible; to: false; delay: 500; startEvents:opendropdown"
						animation__rotateOut="property: rotation; to: 0 0 0; dur: 500; startEvents:closedropdown"
						animation__visibleOut="property: visible; to: true; delay: 500; startEvents:closedropdown"

				
					>	
					</a-gui-icon-label-button>				
				</a-gui-flex-container>

                <a-gui-flex-container
					id="myoptions"
					flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" 
					opacity="0" width="2.5" height="0.75"
					position="0.8 2.278 1" rotation="0 -22.070 0" scale="1 0.001 0.001"
					visible="false" 
					animation__positionIn="property: position; to: 0.8 2 -1.567 rotation:0 -22.070 0; dur: 1000; startEvents:opendropdown"
					animation__scaleIn="property: scale; to: 0.5 0.5 0.5; dur: 1000; startEvents:opendropdown"
					animation__visibleIn="property: visible; to: ture; dur: 100; startEvents:opendropdown"
					animation__positionOut="property: position; to: 0 0 -0.15; dur: 1000; startEvents:closedropdown"
					animation__scaleOut="property: scale; to: 1 1 1; dur: 1000; startEvents:closedropdown"
					animation__visibleOut="property: visible; to: false; dur: 100; delay: 500; startEvents:closedropdown"
					
				>
					<a-gui-button 
                    
						width="2.5" height="0.75"
						onclick="large"
						font-family="assets/fonts/PermanentMarker-Regular.ttf"
						font-size="0.3"
						value="large"
					>
					</a-gui-button>
					<a-gui-button 
                    
						width="2.5" height="0.75"
						onclick="medium"
						font-family="assets/fonts/PermanentMarker-Regular.ttf"
						font-size="0.3"
						value="medium"
					>
					</a-gui-button>
					<a-gui-button 
                    
						width="2.5" height="0.75"
						onclick="small"
						font-family="assets/fonts/PermanentMarker-Regular.ttf"
						font-size="0.3"
						value="small"
					>
					</a-gui-button>
					<a-gui-icon-button
                    
						height="0.5"
						onclick="closeDropdown"
						icon="f00d"
						icon-font="assets/fonts/fa-solid-900.ttf"
					>
					</a-gui-icon-button>					
								
				</a-gui-flex-container>

                <a-gui-flex-container
					flex-direction="row" justify-content="center" align-items="normal" component-padding="0.1" 
					opacity="0" width="0.7" height="0"
					position="0.800 1.5 -1.644" rotation="0 -22.070 0"
				>
					<a-gui-icon-label-button
						id="mydropdown2"
						width="1.5" height="0.55"
						onclick="openDropdown2"
						icon="f0c9"
						
						
						value="cake-flavor"
						font-family="assets/fonts/PermanentMarker-Regular.ttf"
						font-size="0.1"
						visible="ture"
						animation__rotateIn="property: rotation; to: 180 0 0; dur: 500; startEvents:opendropdown2"
						animation__visibleIn="property: visible; to: false; delay: 500; startEvents:opendropdown2"
						animation__rotateOut="property: rotation; to: 0 0 0; dur: 500; startEvents:closedropdown2"
						animation__visibleOut="property: visible; to: true; delay: 500; startEvents:closedropdown2"

						
					>	
					</a-gui-icon-label-button>				
				</a-gui-flex-container>

                <a-gui-flex-container
					id="myoptions2"
					flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" 
					opacity="0" width="2.5" height="0.75"
					position="0.8 2.278 1" rotation="0 -22.070 0" scale="1 0.001 0.001"
					visible="false" 
					animation__positionIn="property: position; to: 0.8 2 -1.567 rotation:0 -22.070 0; dur: 1000; startEvents:opendropdown2"
					animation__scaleIn="property: scale; to: 0.5 0.5 0.5; dur: 1000; startEvents:opendropdown2"
					animation__visibleIn="property: visible; to: true; dur: 100; startEvents:opendropdown2"
					animation__positionOut="property: position; to: 0 0 -0.15; dur: 1000; startEvents:closedropdown2"
					animation__scaleOut="property: scale; to: 1 1 1; dur: 1000; startEvents:closedropdown2"
					animation__visibleOut="property: visible; to: false; dur: 100; delay: 500; startEvents:closedropdown2"

					
				>
					<a-gui-button 
                    
						width="2.5" height="0.75"
						onclick="chocolate"
						font-family="assets/fonts/PermanentMarker-Regular.ttf"
						font-size="0.3"
						value="chocolate"
					>
					</a-gui-button>
					<a-gui-button 
                    
						width="2.5" height="0.75"
						onclick="vanila"
						font-family="assets/fonts/PermanentMarker-Regular.ttf"
						font-size="0.3"
						value="vanilla"
					>
					</a-gui-button>
					<a-gui-button 
                    
						width="2.5" height="0.75"
						onclick="strawberry"
						font-family="assets/fonts/PermanentMarker-Regular.ttf"
						font-size="0.3"
						value="strawberry"
					>
					</a-gui-button>
					<a-gui-icon-button
                    
						height="0.5"
						onclick="closeDropdown2"
						icon="f00d"
						icon-font="assets/fonts/fa-solid-900.ttf"
					>
					</a-gui-icon-button>					
								
				</a-gui-flex-container>

        <a-entity id="mouseCursor" cursor="rayOrigin: mouse" raycaster="objects: [gui-interactable]"></a-entity>
    </a-entity>
    </a-scene>

   
        <script>
		window.closeDropdown = function() {
			console.log("closedropdown");
			var mydropdown = document.getElementById("mydropdown");
            mydropdown.emit('closedropdown');
			var myoptions = document.getElementById("myoptions");
            myoptions.emit('closedropdown');

		}

        window.closeDropdown2 = function() {
			console.log("closedropdown2");
			var mydropdown2 = document.getElementById("mydropdown2");
            mydropdown2.emit('closedropdown2');
			var myoptions2 = document.getElementById("myoptions2");
            myoptions2.emit('closedropdown2');

		}
		window.openDropdown = function() {

			closeDropdown2();
			console.log("opendropdown");
			var mydropdown = document.getElementById("mydropdown");
            mydropdown.emit('opendropdown');
			var myoptions = document.getElementById("myoptions");
            myoptions.emit('opendropdown');

		}

        window.openDropdown2 = function() {
			closeDropdown();
			console.log("opendropdown2");
			var mydropdown2 = document.getElementById("myoptions2");
            mydropdown2.emit('opendropdown2');
			var myoptions2 = document.getElementById("myoptions2");
            myoptions2.emit('opendropdown2');

		}
	
		window.large = function() {
			console.log("cake size");
			var cake = document.getElementById("cake");
			cake.object3D.scale.set(1.2, 1.2, 1.2);
		}

		window.medium = function() {
			console.log("cake size")
			var cake = document.getElementById("cake");
			cake.object3D.scale.set(1.05, 1.05, 1.05);	
		}		

		window.small = function() {
			console.log("cake size")
			var cake = document.getElementById("cake");
			cake.object3D.scale.set(0.9, 0.9, 0.9);


		}





		window.large = function() {
			console.log("cake flavor");
			var cake = document.getElementById("cake");
			cake.object3D.scale.set(1.2, 1.2, 1.2);
		}

		window.medium = function() {
			console.log("cake flavor");
			var cake = document.getElementById("cake");
			cake.object3D.scale.set(1.05, 1.05, 1.05);	
		}		

		window.small = function() {

			console.log("cake flavor");
			var cake = document.getElementById("cake");
			cake.object3D.scale.set(0.9, 0.9, 0.9);

		}



		window.chocolate = function() {
			console.log("cake flavor");
			var cake = document.getElementById("cake");
			cake.setAttribute('src', `#cake-obj`);
	  		cake.setAttribute('mtl', `#cake-mtl`);
			
		}

		window.vanila = function() {
			console.log("cake flavor");
			var cake = document.getElementById("cake");
			cake.setAttribute('src', `#vanila-obj`);
	  		cake.setAttribute('mtl', `#vanila-mtl`);	
		}		

		window.strawberry = function() {

			console.log("cake flavor");
			var cake = document.getElementById("cake");
			cake.setAttribute('src', `#sb-obj`);
	  		cake.setAttribute('mtl', `#sb-mtl`);	

		}

		

		



	</script>
   

    
</body>
</html>